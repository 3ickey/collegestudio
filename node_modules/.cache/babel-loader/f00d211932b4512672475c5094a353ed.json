{"ast":null,"code":"import _classCallCheck from \"/Users/mickey/Documents/INFO/INFO 340/CollegeStudio/CollegeStudio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mickey/Documents/INFO/INFO 340/CollegeStudio/CollegeStudio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mickey/Documents/INFO/INFO 340/CollegeStudio/CollegeStudio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mickey/Documents/INFO/INFO 340/CollegeStudio/CollegeStudio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mickey/Documents/INFO/INFO 340/CollegeStudio/CollegeStudio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/mickey/Documents/INFO/INFO 340/CollegeStudio/CollegeStudio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/mickey/Documents/INFO/INFO 340/CollegeStudio/CollegeStudio/src/components/Favorites.jsx\";\nimport React, { Component } from \"react\";\nimport SchoolCard from \"./SchoolCard\";\nimport firebase from \"firebase/app\";\n\nvar Favorites =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Favorites, _Component);\n\n  function Favorites(props) {\n    var _this;\n\n    _classCallCheck(this, Favorites);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Favorites).call(this, props));\n    _this.state = {\n      favSchools: null\n    };\n    _this.changeState = _this.changeState.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Favorites, [{\n    key: \"changeState\",\n    value: function changeState(data) {\n      this.setState({\n        favSchools: data\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.unAuthSubFunction = firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          firebase.database().ref('users/' + user.uid + '/favorites/').on('value', function (snapshot) {\n            var values = snapshot.val();\n            var favorites = null;\n\n            if (values != null) {\n              favorites = Object.keys(values).map(function (key) {\n                return React.createElement(SchoolCard, {\n                  key: key,\n                  id: key,\n                  isFavorited: true,\n                  Schooldetails: values[key],\n                  currentUser: user,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 28\n                  },\n                  __self: this\n                });\n              });\n            } else {\n              favorites = React.createElement(\"h3\", {\n                className: \"p-4\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 31\n                },\n                __self: this\n              }, React.createElement(\"em\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 31\n                },\n                __self: this\n              }, \"Add schools to favorites and find them here!\"));\n            }\n\n            _this2.changeState(favorites);\n          });\n        } else {\n          _this2.setState({\n            favSchools: React.createElement(\"h1\", {\n              className: \"p-5\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 36\n              },\n              __self: this\n            }, \"You must be logged in to use this feature!\")\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.currentUser) {\n        firebase.database().ref('users/' + this.props.currentUser.uid + '/favorites/').off();\n      }\n\n      this.unAuthSubFunction();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container pt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \" searchTextPH p-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Your favorite schools\"), React.createElement(\"div\", {\n        className: \"flex-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, this.state.favSchools));\n    }\n  }]);\n\n  return Favorites;\n}(Component);\n\nexport default Favorites;","map":{"version":3,"sources":["/Users/mickey/Documents/INFO/INFO 340/CollegeStudio/CollegeStudio/src/components/Favorites.jsx"],"names":["React","Component","SchoolCard","firebase","Favorites","props","state","favSchools","changeState","bind","data","setState","unAuthSubFunction","auth","onAuthStateChanged","user","database","ref","uid","on","snapshot","values","val","favorites","Object","keys","map","key","currentUser","off"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,cAArB;;IAEMC,S;;;;;AACF,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,mFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,UAAU,EAAE;AADH,KAAb;AAIA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,uDAAnB;AAPe;AAQlB;;;;gCAEWC,I,EAAM;AACd,WAAKC,QAAL,CAAc;AAACJ,QAAAA,UAAU,EAAEG;AAAb,OAAd;AACH;;;wCAEmB;AAAA;;AAChB,WAAKE,iBAAL,GAAyBT,QAAQ,CAACU,IAAT,GAAgBC,kBAAhB,CAAmC,UAACC,IAAD,EAAU;AAClE,YAAIA,IAAJ,EAAU;AACNZ,UAAAA,QAAQ,CAACa,QAAT,GAAoBC,GAApB,CAAwB,WAAWF,IAAI,CAACG,GAAhB,GAAsB,aAA9C,EAA6DC,EAA7D,CAAgE,OAAhE,EAAyE,UAACC,QAAD,EAAc;AACnF,gBAAIC,MAAM,GAAGD,QAAQ,CAACE,GAAT,EAAb;AACA,gBAAIC,SAAS,GAAG,IAAhB;;AACA,gBAAGF,MAAM,IAAI,IAAb,EAAmB;AACfE,cAAAA,SAAS,GAAIC,MAAM,CAACC,IAAP,CAAYJ,MAAZ,EAAoBK,GAApB,CAAwB,UAAAC,GAAG;AAAA,uBACpC,oBAAC,UAAD;AAAY,kBAAA,GAAG,EAAEA,GAAjB;AAAsB,kBAAA,EAAE,EAAEA,GAA1B;AAA+B,kBAAA,WAAW,EAAE,IAA5C;AAAkD,kBAAA,aAAa,EAAEN,MAAM,CAACM,GAAD,CAAvE;AAA8E,kBAAA,WAAW,EAAEZ,IAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADoC;AAAA,eAA3B,CAAb;AAGH,aAJD,MAIO;AACHQ,cAAAA,SAAS,GAAI;AAAI,gBAAA,SAAS,EAAE,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEAArB,CAAb;AACH;;AACD,YAAA,MAAI,CAACf,WAAL,CAAiBe,SAAjB;AACH,WAXD;AAYH,SAbD,MAaO;AACH,UAAA,MAAI,CAACZ,QAAL,CAAc;AAACJ,YAAAA,UAAU,EAAG;AAAI,cAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAd,WAAd;AACH;AACJ,OAjBwB,CAAzB;AAkBH;;;2CAEsB;AACnB,UAAI,KAAKF,KAAL,CAAWuB,WAAf,EAA4B;AACxBzB,QAAAA,QAAQ,CAACa,QAAT,GAAoBC,GAApB,CAAwB,WAAW,KAAKZ,KAAL,CAAWuB,WAAX,CAAuBV,GAAlC,GAAwC,aAAhE,EAA+EW,GAA/E;AACH;;AACD,WAAKjB,iBAAL;AACH;;;6BAGQ;AACL,aACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAE,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ,EAEI;AAAK,QAAA,SAAS,EAAG,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKN,KAAL,CAAWC,UADhB,CAFJ,CADJ;AAQH;;;;EArDmBN,S;;AAwDxB,eAAeG,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport SchoolCard from \"./SchoolCard\"\nimport firebase from \"firebase/app\"\n\nclass Favorites extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            favSchools: null\n        }\n\n        this.changeState = this.changeState.bind(this);\n    }\n\n    changeState(data) {\n        this.setState({favSchools: data})\n    }\n\n    componentDidMount() {\n        this.unAuthSubFunction = firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                firebase.database().ref('users/' + user.uid + '/favorites/').on('value', (snapshot) => {\n                    let values = snapshot.val();\n                    let favorites = null;\n                    if(values != null) {\n                        favorites = (Object.keys(values).map(key => (\n                            <SchoolCard key={key} id={key} isFavorited={true} Schooldetails={values[key]} currentUser={user}/>\n                        )));\n                    } else {\n                        favorites = (<h3 className= \"p-4\"><em>Add schools to favorites and find them here!</em></h3>)\n                    }\n                    this.changeState(favorites);\n                });\n            } else {\n                this.setState({favSchools: (<h1 className=\"p-5\">You must be logged in to use this feature!</h1>)})\n            }\n        });\n    }\n\n    componentWillUnmount() {\n        if (this.props.currentUser) {\n            firebase.database().ref('users/' + this.props.currentUser.uid + '/favorites/').off()\n        }\n        this.unAuthSubFunction()\n    }\n\n\n    render() {\n        return (\n            <div className=\"container pt-5\">\n                <h1 className= \" searchTextPH p-4\">Your favorite schools</h1>\n                <div className = \"flex-container\">\n                    {this.state.favSchools}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Favorites;"]},"metadata":{},"sourceType":"module"}